var __fs_configuration_proxy,__fs_dncs,__fs_dncs_instance;if(HTMLElement.prototype.addFSEventListener=function(event,callback){this.addEventListener?this.addEventListener(event,callback):this.attachEvent(event,callback)},__fs_configuration_proxy=function(instance){this._instance=instance,this._proxyId=1,this.push=function(arrParameter){this._instance.parseConfiguration(arrParameter[0],arrParameter[1])}},__fs_dncs=function(){this._advid={},this._allAdvid={},this._stradvid="",this._shard=!1,this._cookieDomain=!1,this._parameterString="",this._spans=[],this._numbers=[],this._classNames=["fs-dynamic-number"],this._loadEventTriggered=!1,this._formattingFunction=function(s1,s2){return s1},this._requestTimeFunction=null,this._onScriptReadyFunction=null,this._numberReplacedListeners=[],this._numberConfigurations={},this._alternativeNumbers={},this._defaultFsButtonOptions={run:!1,pre:"Call us",post:["Call us @ {{phone}}"],useLocalPhoneNumber:!0},this._parameters={autoInvoke:!0,numberDetection:!0,trackEmailLinks:!1,returnInputNumber:!0,cookieLessMode:!1},this._configurationFrozen=!1,this._cbwConfiguration={},this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",this._defaultCookies=["__utma","__utmz","_ga","WT_FPC","xtidc","__fsComscoreCookie","__troRUID","vscr_vid","hubspotutk"],this._p_s_parameters=["__sess","__uid","__vdf","xtsd","xtsite","xtp","eloqua_email","eloqua_campaign_id"],this._altAnsNums="",this._loadModel="onload",this._waitFor=!1,this._getNumberEventTag="",this._spa={referrer:null,urlHistory:[],overrideUrl:null},this._crossDomainRequest=!1,this._dryRun=!1,this._minNumberLength=5,this._forceSameSiteForGetNumber=!1,this._sessionCookieLifetime=30,this._startRequestTime=null,this.readConfigurationBundle(),this.getParameter("autoInvoke",!0)&&!1===this._waitFor&&this.addLoadEvent((function(){__fs_dncs_instance.loadEvent()})),this.runOnScriptReadyFunction()},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),__fs_dncs.prototype={base64_encode:function(input){var chr1,chr2,enc1,enc2,enc3,output="",chr3="",enc4="",i=0;input=unescape(encodeURIComponent(input));do{enc1=(chr1=input.charCodeAt(i++))>>2,enc2=(3&chr1)<<4|(chr2=input.charCodeAt(i++))>>4,enc3=(15&chr2)<<2|(chr3=input.charCodeAt(i++))>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this.keyStr.charAt(enc1)+this.keyStr.charAt(enc2)+this.keyStr.charAt(enc3)+this.keyStr.charAt(enc4),chr1=chr2=chr3="",enc1=enc2=enc3=enc4=""}while(i<input.length);return output=output.replace(/=/g,"")},getUrlParameters:function(){var params={};if(document.location.search)for(var parts=document.location.search.substring(1).split("&"),i=0;i<parts.length;i++){var nv=parts[i].split("=");nv[0]&&(params[nv[0]]=nv[1]||!0)}return params},getSessionId:function(advId){var sId="",strAdv=this._stradvid;advId&&(strAdv=advId),this.getCookie("__fs_dncs_sessionid_"+strAdv)?sId=this.getCookie("__fs_dncs_sessionid_"+strAdv):this.getCookie("__fs_dncs_sessionid")&&(sId=this.getCookie("__fs_dncs_sessionid"));var parms=this.getUrlParameters();return void 0!==parms.__fs_dncs_sessionid&&""!==parms.__fs_dncs_sessionid&&!0!==parms.__fs_dncs_sessionid&&(this._crossDomainRequest=!0,sId=parms.__fs_dncs_sessionid),sId},getTrackingId:function(advId){var tId="",strAdv=this._stradvid;return advId&&(strAdv=advId),this.getCookie("__fs_dncs_trackingid_"+strAdv)?tId=this.getCookie("__fs_dncs_trackingid_"+strAdv):this.getCookie("__fs_dncs_sessionid")&&(tId=this.getCookie("__fs_dncs_trackingid")),tId},stringify:function(val){var str="";if("number"==typeof val)return val;if("string"==typeof val||val instanceof String)return'"'+val+'"';if("[object Array]"===Object.prototype.toString.call(val)){str+="[";for(var i=0;i<val.length;i++)str+=this.stringify(val[i]),i<val.length-1&&(str+=",");str+="]"}else{for(var key in str+="{",val)val.hasOwnProperty(key)&&(str+='"'+key+'":'+this.stringify(val[key])+",");str=str.replace(/,$/,""),str+="}"}return str},addElementClass:function(strClass){this._classNames.push(strClass)},setCbwAnsweringNumber:function(strPhonenr){this._cbwConfiguration.answering_number=strPhonenr},setCbwCallerId:function(strPhonenr){this._cbwConfiguration.caller_id=strPhonenr},setAdv:function(strAdvid){this._advid[strAdvid.id]=strAdvid,this._allAdvid[strAdvid.id]=strAdvid,this._stradvid=strAdvid.id},setTestMode:function(bTestMode){this._dryRun=bTestMode},setShard:function(shard){shard=Number(shard),this._shard=!isNaN(shard)&&shard},setCookieDomain:function(cookieDomain){this._cookieDomain=cookieDomain},setSessionCookieLifetime:function(lifetime){this._sessionCookieLifetime=lifetime},setMinimumNumberLength:function(minNumberLength){this._minNumberLength=Number(minNumberLength)},addAlternativeAnsweringNumbers:function(altNums){this._altAnsNums=altNums},prepareData:function(b){b&&!this.checkSameSite()&&(this.setCookie("__fs_dncs_prep_u",document.location.href,this._sessionCookieLifetime),this.setCookie("__fs_dncs_prep_r",document.referrer?document.referrer:"",this._sessionCookieLifetime))},readConfigurationBundle:function(){if("object"==typeof __fs_conf&&!__fs_conf._proxyId){var tmp_fs_conf=__fs_conf;for(key in __fs_conf=new __fs_configuration_proxy(this),tmp_fs_conf)this.parseConfiguration(tmp_fs_conf[key][0],tmp_fs_conf[key][1])}},parseConfiguration:function(strParameter,strValue){this._configurationFrozen||("function"==typeof this[strParameter]?this[strParameter](strValue):this.setParameter(strParameter,strValue))},setParameter:function(strParameter,strValue){this._parameters[strParameter]=strValue},getParameter:function(strParameter,strDefaultValue){return this._parameters.hasOwnProperty(strParameter)?"freespeeHost"===strParameter?this._parameters[strParameter].replace(/http:\/\/|^\/\//,"https://"):this._parameters[strParameter]:void 0!==strDefaultValue?strDefaultValue:null},replaceNumber:function(element,replaceWith){var oldNumber=this.cleanNumber(element.innerHTML),formattedNumber=this._formattingFunction(replaceWith.local,replaceWith.e164);if(null!==formattedNumber){var newNumber=unescape(formattedNumber),cleanNumber=this.cleanNumber(replaceWith.e164);"FORM"==element.tagName?(oldNumber=this.cleanNumber(element.action),element.action=-1!=element.action.indexOf("tel:")?"tel:"+cleanNumber:newNumber):"A"==element.tagName&&this.cleanNumber(element.href)==this.cleanNumber(element.innerHTML)?(element.innerHTML=-1!=element.innerHTML.indexOf("tel:")?"tel:"+cleanNumber:newNumber,element.href=-1!=element.href.indexOf("tel:")?"tel:"+cleanNumber:newNumber):"A"==element.tagName?element.href=-1!=element.href.indexOf("tel:")?"tel:"+cleanNumber:newNumber:"A"!=element.tagName&&(element.innerHTML=newNumber),this.notifyNumberReplacedListeners(element,oldNumber,newNumber)}},notifyNumberReplacedListeners:function(element,number,replacedWith){for(var key in this._numberReplacedListeners){var thisObj=this;setTimeout((function(){thisObj._numberReplacedListeners[key](element,number,replacedWith)}),1)}},addNumberReplacedListener:function(f){"function"==typeof f&&this._numberReplacedListeners.push(f)},removeNumberReplacedListener:function(f){for(var i=0;i<this._numberReplacedListeners.length;i+=1)this._numberReplacedListeners[i]==f&&(this._numberReplacedListeners.splice(i,1),i-=1)},removeAllNumberReplacedListeners:function(){this._numberReplacedListeners=[]},addNumberConfiguration:function(configuration){"string"==typeof configuration[0]&&"object"==typeof configuration[1]&&(this._numberConfigurations[this.cleanNumber(configuration[0])]=configuration[1])},setParameterString:function(s){this._parameterString=s},appendCookies:function(s){for(var i=0;i<s.length;i++)this._defaultCookies[s[i]]||this._defaultCookies.push(s[i])},clearFormattingFunction:function(){this._formattingFunction=function(s){return s}},setFormattingFunction:function(f){"function"==typeof f&&(this._formattingFunction=f)},setOnScriptReadyFunction:function(f){"function"==typeof f&&(this._onScriptReadyFunction=f)},runOnScriptReadyFunction:function(){"function"==typeof this._onScriptReadyFunction&&this._onScriptReadyFunction()},setRequestTimerFunction:function(f){"function"==typeof f&&(this._requestTimeFunction=f)},runRequestTimerFunction:function(start,end){"function"==typeof this._requestTimeFunction&&this._requestTimeFunction(start,end)},waitFor:function(c,o,d,t){var tP,iP=setInterval((function(){void 0!==__fs_dncs_instance&&c()&&(clearInterval(iP),tP&&clearTimeout(tP),o())}),d);t&&(tP=setTimeout((function(){clearInterval(iP)}),t))},setWaitForFunction:function(f,d,t){"function"==typeof f&&(d||(d=100),t||(t=!1),this._waitFor=!0,this.waitFor(f,(function(){__fs_dncs_instance.loadEvent()}),d,t))},setLoadModel:function(s){"onDomLoaded"==s&&(this._loadModel="ondom")},addLoadEvent:function(func){"onload"==this._loadModel?window.addEventListener?window.addEventListener("load",func,!1):window.attachEvent&&window.attachEvent("onload",func):"ondom"==this._loadModel&&(document.addEventListener?document.addEventListener("DOMContentLoaded",func,!1):document.attachEvent&&document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&func()})))},setCookie:function(c_name,value,exminutes){if(!0===this.getParameter("cookieLessMode",!1))return!0;var exdate=new Date((new Date).getTime()+6e4*exminutes).toUTCString(),domain="";this._cookieDomain&&(domain=";domain="+this._cookieDomain);var c_value=escape(value)+(null==exminutes?"":"; expires="+exdate+domain+"; path=/");document.cookie=c_name+"="+c_value},getCookie:function(c_name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++)if(x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("=")),y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1),(x=x.replace(/^\s+|\s+$/g,""))==c_name)return unescape(y);return""},iterate_the_DOM:function(func){var elems=document.getElementsByTagName("*"),i=elems.length;do{func(elems[i])}while(--i)},getElementsByClassName:function(className){var ieEightOrLower=document.all&&!document.addEventListener;if(document.getElementsByClassName&&!ieEightOrLower)return document.getElementsByClassName(className);var results=[];return this.iterate_the_DOM((function(elem){elem&&-1!=elem.className.indexOf(className)&&results.push(elem)})),results},cleanNumber:function(string){return string=string.trim(),(string=String(unescape(string)).replace(/(<([^>]+)>)/gi,"").replace(/\(0\)/gi,"").replace(/tel:/,"").replace(/telprompt:/,"").replace(/[\n\r]+/g,"")).replace(/(^\+?).*/,"$1")+string.replace(/[^0-9]/gi,"")},cleanNumbersSeparated:function(string,separator){for(var separated=string.split(separator),size=separated.length,clean=[],i=0;i<size;i++)clean[i]=this.cleanNumber(separated[i]);return clean.join(separator)},cleanNumberInText:function(string){return string.replace(/([0-9])\s*-?\s?(?=\d)/gi,"$1")},replaceNumberInText:function(node,start,end){var number=this._numbers[this.cleanNumber(node.nodeValue.substring(start,end))],oldNumber=this.cleanNumber(node.nodeValue.substring(start,end)),newNumber=null;if(number&&number.replace_with){var replaceWith=number.replace_with,formattedNumber=this._formattingFunction(replaceWith.local,replaceWith.e164);if(null===formattedNumber)return;newNumber=unescape(formattedNumber),2===node.nodeType&&-1!==node.nodeValue.indexOf("tel:")?"+3980"!==replaceWith.e164.substr(0,5)?node.nodeValue=node.nodeValue.substring(0,start)+replaceWith.e164+node.nodeValue.substring(end):node.nodeValue=node.nodeValue.substring(0,start)+replaceWith.local.replace(/\s/g,"")+node.nodeValue.substring(end):node.nodeValue=node.nodeValue.substring(0,start)+newNumber+node.nodeValue.substring(end)}this.notifyNumberReplacedListeners(node.parentNode?node.parentNode:node,oldNumber,newNumber)},lookForButtonParams:function(node){for(var returnData=null,i=0;i<10;i++){if(null!==node.getAttribute("data-fs-parameters")){returnData=node;break}node=node.parentNode}return returnData},onClickToReveal:function(event){var self=__fs_dncs_instance;if(null===event.target.getAttribute("data-fs-replaced")){event.preventDefault(),event.stopPropagation();var target=__fs_dncs_instance.lookForButtonParams(event.target);if(null===target)return;var customerParameters=target.getAttribute("data-fs-parameters");self.getNumber((function(elem,result){var settings=self.getParameter("fsButton",self._defaultFsButtonOptions),visiblePhoneNumber=null!==result?!0===settings.useLocalPhoneNumber?result.local:result.e164:self._numbers[elem.getAttribute("data-fs-nr")].originalNumber,hrefNumber=null!==result?result.e164:self._numbers[elem.getAttribute("data-fs-nr")].cleanNumber,templateIndex=elem.getAttribute("data-fs-index")?elem.getAttribute("data-fs-index"):0;if(elem.innerHTML=elem.innerHTML.replace(settings.pre,settings.post[templateIndex].replace("{{phone}}",visiblePhoneNumber)),elem.setAttribute("href","tel:"+hrefNumber),elem.setAttribute("data-fs-replaced",!0),null===result&&null!==elem.getAttribute("data-fs-original-href")&&elem.setAttribute("href","tel:"+elem.getAttribute("data-fs-original-href")),null!==result){var formattedNumber=__fs_dncs_instance._formattingFunction(result.local,result.e164);if(null===formattedNumber)return;var newNumber=unescape(formattedNumber);__fs_dncs_instance.notifyNumberReplacedListeners(elem,elem.getAttribute("data-fs-nr"),newNumber)}}),target,target.getAttribute("data-fs-nr"),self._stradvid,null,customerParameters||null,null)}},addNumberInText:function(node,start,end){var originalNumber=node.nodeValue.substring(start,end),cleanNumber=this.cleanNumber(originalNumber);cleanNumber.length>=this._minNumberLength&&(void 0===this._numbers[cleanNumber]?this._numbers[cleanNumber]={cleanNumber:cleanNumber,originalNumber:originalNumber,nodes:[node]}:this._numbers[cleanNumber].hasOwnProperty("nodes")&&this._numbers[cleanNumber].nodes.push(node))},addFsLinkToDOM:function(numbersToReplace){for(var fsButtonConf=this.getParameter("fsButton",this._defaultFsButtonOptions),j=0;j<numbersToReplace.length;j++)for(var num=this._numbers[numbersToReplace[j].number],i=0;i<num.nodes.length;i++){if("href"===num.nodes[i].nodeName){if(num.nodes[i].ownerElement.setAttribute("data-fs-original-href",num.originalNumber),num.nodes[i].nodeValue="javascript:void(0)","A"===num.nodes[i].ownerElement.tagName){refElement=num.nodes[i].ownerElement;for(var l=fsButtonConf.post.length-1;l>=0;l--){var replacement=fsButtonConf.post[l].replace("{{phone}}",num.originalNumber);if(-1!==num.nodes[i].ownerElement.innerHTML.indexOf(replacement)){num.nodes[i].ownerElement.innerHTML=num.nodes[i].ownerElement.innerHTML.replace(replacement,fsButtonConf.pre);break}}}}else{if(!num.nodes[i].parentNode)continue;var refElement;if("A"===num.nodes[i].parentNode.tagName)refElement=num.nodes[i].parentNode,num.nodes[i].nodeValue=num.nodes[i].nodeValue.replace(num.originalNumber,fsButtonConf.pre);else{var anchorId="fs-button-"+(new Date).getTime()+Math.floor(1e3*Math.random()),anchor=document.createElement("a");anchor.setAttribute("id",anchorId),anchor.setAttribute("href","javascript:void(0)"),anchor.setAttribute("data-fs-original-href",num.originalNumber),anchor.innerHTML=fsButtonConf.pre;for(l=fsButtonConf.post.length-1;l>=0;l--){replacement=fsButtonConf.post[l].replace("{{phone}}",num.originalNumber);if(-1!==num.nodes[i].parentNode.innerHTML.indexOf(replacement)){anchor.setAttribute("data-fs-index",l),num.nodes[i].parentNode.innerHTML=num.nodes[i].parentNode.innerHTML.replace(replacement,anchor.outerHTML),refElement=document.getElementById(anchorId);break}if(-1!==this.cleanNumberInText(num.nodes[i].parentNode.innerHTML).indexOf(this.cleanNumberInText(replacement))){anchor.setAttribute("data-fs-index",l),num.nodes[i].parentNode.innerHTML=this.cleanNumberInText(num.nodes[i].parentNode.innerHTML).replace(this.cleanNumberInText(replacement),anchor.outerHTML),refElement=document.getElementById(anchorId);break}}}}refElement&&(refElement.addFSEventListener("click",this.onClickToReveal),refElement.setAttribute("data-fs-nr",num.cleanNumber),numbersToReplace[j].custnr&&numbersToReplace[j].custname&&refElement.setAttribute("data-fs-parameters","&custnr="+numbersToReplace[j].custnr+"&custname="+encodeURIComponent(numbersToReplace[j].custname)))}},addOrReplaceNumbersInText:function(node,replaceFlag){var inNumber=!1,numberStartAt=0,numberEndAt=0;if(node.nodeValue&&node.nodeValue.length<5e4&&/\d.*\d.*\d.*\d.*\d/.test(node.nodeValue)){for(var nodeValue=node.nodeValue.split(""),i=0;i<node.nodeValue.length;i++){var c=nodeValue[i];inNumber&&(c>="0"&&c<="9"?numberEndAt=i+1:"-"==c||" "==c||"Â "==c||"\t"==c||"\r"==c||"\n"==c||"."==c||"("==c||")"==c||"\v"==c||"/"==c?"("!=c&&"/"!=c||(0==replaceFlag?this.addNumberInText(node,numberStartAt,numberEndAt):this.replaceNumberInText(node,numberStartAt,numberEndAt)):(0==replaceFlag?this.addNumberInText(node,numberStartAt,numberEndAt):this.replaceNumberInText(node,numberStartAt,numberEndAt),numberStartAt=0,numberEndAt=0,inNumber=!1)),!inNumber&&("+"==c||c>="0"&&c<="9")&&(inNumber=!0,numberStartAt=i)}inNumber&&(0==replaceFlag?this.addNumberInText(node,numberStartAt,numberEndAt):this.replaceNumberInText(node,numberStartAt,numberEndAt),numberStartAt=0,numberEndAt=0,inNumber=!1)}},loopTextElementsForNumbers:function(node,replaceFlag){if(node)for(node=node.firstChild;null!=node;){var tagName=node.tagName;if(tagName&&(tagName=tagName.toLowerCase()),3==node.nodeType)this.addOrReplaceNumbersInText(node,replaceFlag);else if(1==node.nodeType&&(!tagName||tagName&&"script"!=tagName&&"style"!=tagName&&"noscript"!=tagName)){var attr;if(this.loopTextElementsForNumbers(node,replaceFlag),tagName&&"a"==tagName)(attr=node.getAttributeNode("href"))&&this.addOrReplaceNumbersInText(attr,replaceFlag);if(tagName&&"form"==tagName)(attr=node.getAttributeNode("action"))&&this.addOrReplaceNumbersInText(attr,replaceFlag)}node=node.nextSibling}},addEventsToMailToLinks:function(){for(var _fs_i=__fs_dncs_instance,elements=document.getElementsByTagName("a"),i=0,len=elements.length;i<len;i++)elements[i].getAttribute("href")&&elements[i].getAttribute("href").indexOf("mailto:")>=0&&null===elements[i].getAttribute("fs-link")&&(elements[i].addEventListener?elements[i].addEventListener("click",(function(){var advId=this.getAttribute("adv-id"),href=this.getAttribute("href"),furtherInfo=href.indexOf("?");furtherInfo>=0&&(href=href.substring(0,furtherInfo));var emailAddress=href.replace("mailto:","").trim(),pageUrl=window.location.href;_fs_i.sendEvent("email_link_tracking",emailAddress,{url:pageUrl},advId)})):elements[i].attachEvent&&elements[i].attachEvent("onclick",(function(){var advId=this.getAttribute("adv-id"),href=this.getAttribute("href"),furtherInfo=href.indexOf("?");furtherInfo>=0&&(href=href.substring(0,furtherInfo));var emailAddress=href.replace("mailto:","").trim(),pageUrl=window.location.href;_fs_i.sendEvent("email_link_tracking",emailAddress,{url:pageUrl},advId)})),elements[i].setAttribute("fs-link","true"))},loadEvent:function(){var name,elems,i,len,preFlight=!1;if(!this._loadEventTriggered){for(name in this._loadEventTriggered=!0,this._classNames)for(i=0,len=(elems=this.getElementsByClassName(this._classNames[name])).length;i<len;i+=1)"A"==elems[i].tagName&&this.cleanNumber(elems[i].innerHTML)==this.cleanNumber(elems[i].href)?(this._spans.push(elems[i]),this._numbers[this.cleanNumber(elems[i].innerHTML)]={}):"A"==elems[i].tagName?(this._spans.push(elems[i]),this._numbers[this.cleanNumber(elems[i].href)]={}):"FORM"==elems[i].tagName?(this._spans.push(elems[i]),this._numbers[this.cleanNumber(elems[i].action)]={}):0==elems[i].children.length&&"A"!=elems[i].tagName?(this._spans.push(elems[i]),this._numbers[this.cleanNumber(elems[i].innerHTML)]={}):elems[i].children.length>0&&"A"==elems[i].firstChild.tagName&&this.cleanNumber(elems[i].firstChild.innerHTML)==this.cleanNumber(elems[i].firstChild.href)?(this._spans.push(elems[i].firstChild),this._numbers[this.cleanNumber(elems[i].firstChild.innerHTML)]={}):elems[i].children.length>0&&"A"==elems[i].firstChild.tagName&&(this._spans.push(elems[i].firstChild),this._numbers[this.cleanNumber(elems[i].firstChild.href)]={});var fsButtonConf=this.getParameter("fsButton",this._defaultFsButtonOptions);for(var key in(this.getParameter("numberDetection",!1)||fsButtonConf.run)&&(this.loopTextElementsForNumbers(document.body,!1),fsButtonConf.run&&(preFlight=!0)),this.getParameter("trackEmailLinks",!1)&&this.addEventsToMailToLinks(),this._advid)this._advid[key].cbw_visible_number&&(this._advid[key].cbw_visible_number=this.cleanNumber(this._advid[key].cbw_visible_number),this._numbers[this._advid[key].cbw_visible_number]={});this.makeBackendRequest(preFlight)}},trackPage:function(opts){opts=opts||{},this._spa.urlHistory.length>0&&(this._spa.referrer=this._spa.urlHistory[this._spa.urlHistory.length-1]),this._spa.urlHistory.push(window.location.href),opts.overrideUrl&&(this._spa.overrideUrl=opts.overrideUrl),opts.noRequest||(this._loadEventTriggered=!1,this.loadEvent())},checkSameSite:function(){if(this._spa.referrer)return 1;var refDomain="",sameSite=0;if(document.referrer){var a=document.createElement("a");a.href=document.referrer,refDomain=a.hostname}return!1!==this._cookieDomain&&-1!==refDomain.indexOf(this._cookieDomain)?1:(refDomain==window.location.hostname&&(sameSite=1),sameSite)},makeBackendRequest:function(preFlight,overrideNumberToReplace,overrideAdvid,overrideParameters,overrideCallback,overrideShard,overrideSendNotSameSite){var sessionId,url,referrer,numbersToReplace,advid,parameters,trackingId,extTrack,altNumData,eventTag,dryRun,cookieLess,coData="";this._startRequestTime=performance.now();for(var i=0;i<this._p_s_parameters.length;i++)"string"==typeof window[this._p_s_parameters[i]]&&(coData=coData+"&_p_s"+this._p_s_parameters[i]+"="+window[this._p_s_parameters[i]]),"number"==typeof window[this._p_s_parameters[i]]&&(coData=coData+"&_p_s"+this._p_s_parameters[i]+"="+window[this._p_s_parameters[i]]),"object"==typeof window[this._p_s_parameters[i]]&&(coData=coData+"&_p_s"+this._p_s_parameters[i]+"="+window[this._p_s_parameters[i]].join("."));if("undefined"!=typeof ga&&"function"==typeof ga.getAll){var ga_trackers=ga.getAll(),dims={},trackingIds=[],clientIds=[],cookieNames=[];for(i=0;i<ga_trackers.length;i++)if("object"==typeof ga_trackers[i]){var thisClientId=ga_trackers[i].get("clientId");void 0!==thisClientId&&""!==thisClientId&&clientIds.push(thisClientId);var thisTracker=ga_trackers[i].get("trackingId");void 0!==thisTracker&&""!==thisTracker&&trackingIds.push(thisTracker);var thisCookieName=ga_trackers[i].get("cookieName");void 0!==thisCookieName&&""!==thisCookieName&&cookieNames.push(thisCookieName);for(var d=1;d<=20;d++){var dimension=ga_trackers[i].get("dimension"+d);void 0!==dimension&&(dims[d]=dimension)}}coData=(coData=(coData=(coData=coData+"&_p_ga_wpi="+trackingIds.join(","))+"&_p_sf_gacids="+clientIds.join(","))+"&_p_ga_cnames="+cookieNames.join(","))+"&_p_ga_dims="+this.stringify(dims)}else"undefined"!=typeof _gat&&"string"==typeof _gat.bb&&(coData=coData+"&_p_ga_wpi="+_gat.bb);"undefined"!=typeof SZCD&&void 0!==SZCD.UID&&(coData=coData+"&_p_sm__uid="+SZCD.UID,void 0!==SZCD.CID&&(coData=coData+"&_p_sm__cid="+SZCD.CID),void 0!==SZCD.VTID&&(coData=coData+"&_p_sm__vtid="+SZCD.VTID)),"undefined"!=typeof Adform&&void 0!==Adform._uid&&""!==Adform._uid&&(coData=coData+"&_p_adform_cookie_id="+Adform._uid);for(i=0;i<this._defaultCookies.length;i++)this.getCookie(this._defaultCookies[i])&&(coData=coData+"&"+this._defaultCookies[i]+"="+encodeURIComponent(this.getCookie(this._defaultCookies[i])));if("object"==typeof s&&null!==s&&"function"==typeof s.c_r&&(coData=coData+"&_p_asc_s_vi="+s.c_r("s_vi").substring(7,40),"object"==typeof s.visitor&&"function"==typeof s.visitor.getMarketingCloudVisitorID&&(coData=coData+"&_p_asc_mid="+s.visitor.getMarketingCloudVisitorID()),"string"==typeof s.fid&&(coData=coData+"&_p_asc_fid="+s.fid),"string"==typeof s.un&&(coData=coData+"&_p_asc_un="+s.un),"string"==typeof s_account?coData=coData+"&_p_asc_rsid="+s_account:"string"==typeof s.account&&(coData=coData+"&_p_asc_rsid="+s.account),"string"==typeof s.version&&(coData=coData+"&_p_asc_version="+s.version),"string"==typeof s.visitorNamespace&&(coData=coData+"&_p_asc_visitorNamespace="+s.visitorNamespace),"string"==typeof s.trackingServer&&(coData=coData+"&_p_asc_trackingServer="+s.trackingServer),"string"==typeof s.channel&&(coData=coData+"&_p_asc_channel="+s.channel),"string"==typeof s.campaign&&(coData=coData+"&_p_asc_campaign="+s.campaign),"string"==typeof s.eVar3&&(coData=coData+"&_p_asc_eVar3="+s.eVar3)),"undefined"!=typeof return_ia_js_uid&&"function"==typeof return_ia_js_uid&&(coData=coData+"&_p_ia_uid="+return_ia_js_uid()),"undefined"!=typeof heap&&void 0!==heap.appid&&void 0!==heap.userid&&(coData=(coData=coData+"&_p_heap_aid="+heap.appid)+"&_p_heap_uid="+heap.userid),"undefined"!=typeof _vwo_acc_id){for(var _vis_combination,_vis_id,_vis_data="",_vis_l=0;_vis_l<_vwo_exp_ids.length;_vis_l++)_vis_id=_vwo_exp_ids[_vis_l],_vwo_exp[_vis_id].ready&&(_vis_combination=this.getCookie("_vis_opt_exp_"+_vis_id+"_combi"),void 0!==_vwo_exp[_vis_id].combination_chosen&&(_vis_combination=_vwo_exp[_vis_id].combination_chosen),void 0!==_vwo_exp[_vis_id].comb_n[_vis_combination]&&(_vis_data=_vis_data+_vis_id+","+_vis_combination+";"));_vis_data&&(coData=(coData=(coData=coData+"&_p_vwo_acc_id="+_vwo_acc_id)+"&_p_vwo_t_v="+_vis_data)+"&_p_vwo_uuid="+this.getCookie("_vwo_uuid"))}if("object"==typeof optimizely&&("function"==typeof optimizely.getProjectId?coData=coData+"&_p_opt_proj_id="+optimizely.getProjectId():"function"==typeof optimizely.get&&"object"==typeof optimizely.get("data")&&"string"==typeof optimizely.get("data").projectId&&(coData=coData+"&_p_opt_proj_id="+optimizely.get("data").projectId),coData=(coData=(coData=coData+"&_p_opt_user_id="+this.getCookie("optimizelyEndUserId"))+"&_p_opt_bucks="+decodeURIComponent(this.getCookie("optimizelyBuckets")))+"&_p_opt_segs="+decodeURIComponent(this.getCookie("optimizelySegments"))),"object"==typeof ABTasty&&"function"==typeof ABTasty.getAccountSettings&&"object"==typeof ABTasty.getAccountSettings()&&"string"==typeof ABTasty.getAccountSettings().identifier){coData+="&_p_abt_chid="+ABTasty.getAccountSettings().identifier;var abTastySessionCount=1,abTastyCookieParameter="",abTastyTests=[],abTastyVariations=[],abTastyCookie=this.getCookie("ABTasty");if("string"==typeof abTastyCookie&&abTastyCookie.length>0){var abTastyCookieValues=JSON.parse('{"'+decodeURI(abTastyCookie).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\s/g,"")+'"}');"object"==typeof abTastyCookieValues&&"string"==typeof abTastyCookieValues.ns&&abTastyCookieValues.ns.length>0&&(abTastySessionCount=abTastyCookieValues.ns)}if("object"==typeof ABTasty.visitor&&"string"==typeof ABTasty.visitor.id&&ABTasty.visitor.id.length>0&&(abTastyCookieParameter+=ABTasty.visitor.id,"function"==typeof ABTasty.getTestsOnPage))for(var abTastyTestObject=ABTasty.getTestsOnPage(),abTastyTestIDs=Object.keys(abTastyTestObject),abt_key=0;abt_key<abTastyTestIDs.length;abt_key++)void 0!==abTastyTestObject[abTastyTestIDs[abt_key]].variationID&&(abTastyCookieParameter+="*"+abTastyTestIDs[abt_key]+"."+abTastyTestObject[abTastyTestIDs[abt_key]].variationID+"."+abTastySessionCount,abTastyTests.push(abTastyTestIDs[abt_key]),abTastyVariations.push(abTastyTestObject[abTastyTestIDs[abt_key]].variationID));coData+="&_p_abt_cookie="+abTastyCookieParameter,coData+="&_p_abt_tests="+abTastyTests.join(","),coData+="&_p_abt_variations="+abTastyVariations.join(",")}if("undefined"!=typeof _kTck&&void 0!==_kTck.pClId){var madmetricsCookie=this.getCookie("K_"+_kTck.pClId);madmetricsCookie&&(coData+="&_p_mad_client_id="+_kTck.pClId+"&_p_mad_cookie="+madmetricsCookie)}if("undefined"!=typeof vscr&&void 0!==vscr.state&&void 0!==vscr.state.accountId&&(coData+="&_p_cubed_aid="+vscr.state.accountId),"object"==typeof ADMO&&"function"==typeof ADMO.method.getCookieInformation){var admo=ADMO.method.getCookieInformation("cikneeto_uuid");"string"==typeof admo&&admo.length>0&&void 0!==(admo=admo.split(":"))[1]&&36===(admo=admo[1]).length&&(coData+="&_p_admotv="+admo)}if("object"==typeof tealium&&"function"==typeof tealium.getVisitorId?coData+="&_p_tealium_visitor_id="+tealium.getVisitorId():"object"==typeof utag&&"object"==typeof utag.data&&"string"==typeof utag.data.tealium_visitor_id&&(coData+="&_p_tealium_visitor_id="+utag.data.tealium_visitor_id),"object"==typeof Advalo&&"function"==typeof Advalo.getAsyncTracker&&(coData+="&_p_advalo_site_id="+Advalo.getAsyncTracker().getSiteId(),coData+="&_p_advalo_visit_id="+Advalo.getAsyncTracker().getVisitId(),coData+="&_p_advalo_visitor_id="+Advalo.getAsyncTracker().getVisitorId()),"object"==typeof _etracker&&("function"==typeof _etracker.getCoid&&(coData=coData+"&_p_et_coid="+_etracker.getCoid()),"string"==typeof et_secureId&&(coData=coData+"&_p_et_et="+et_secureId),"string"==typeof et_ver&&(coData=coData+"&_p_et_ver="+et_ver),"number"==typeof et_ilevel&&(coData=coData+"&_p_et_ilevel="+et_ilevel),"string"==typeof et_deliveryHash&&(coData=coData+"&_p_et_dh="+et_deliveryHash),"string"==typeof et_seg1&&(coData=coData+"&_p_et_seg1="+et_seg1)),sameSite=this.checkSameSite(),(1==sameSite||overrideSendNotSameSite)&&this.getCookie("__fs_dncs_prep_u")?(url=this.base64_encode(decodeURI(this.getCookie("__fs_dncs_prep_u"))),referrer=this.getCookie("__fs_dncs_prep_r")?this.base64_encode(decodeURI(this.getCookie("__fs_dncs_prep_r"))):""):(url=this._spa.overrideUrl?this.base64_encode(decodeURI(this._spa.overrideUrl)):this.base64_encode(decodeURI(document.location.href)),referrer=this._spa.referrer?this.base64_encode(decodeURI(this._spa.referrer)):document.referrer?this.base64_encode(decodeURI(document.referrer)):""),numbersToReplace=[],advid=[],overrideAdvid)advid=[overrideAdvid],overrideAdvid.indexOf(";")>=0&&(overrideAdvid=overrideAdvid.slice(0,overrideAdvid.indexOf(";")));else for(var key in this._advid){var requestedNdc="";this._advid[key].requested_ndc&&(requestedNdc=this._advid[key].requested_ndc),advid.push(key+";"+requestedNdc)}if(0!==advid.length){if("string"==typeof overrideShard&&(overrideShard=overrideShard.length>0?Number(overrideShard):this._shard),void 0===overrideShard&&!1!==this._shard&&(overrideShard=this._shard),""!=this._altAnsNums&&(altNumData=this.base64_encode(this.stringify(this._altAnsNums))),advid=this.base64_encode(advid.join(",")),overrideNumberToReplace)if(this._numberConfigurations[overrideNumberToReplace]&&this._numberConfigurations[overrideNumberToReplace].connect_to){cleanConnectToNumber=this.cleanNumber(this._numberConfigurations[overrideNumberToReplace].connect_to);numbersToReplace.push(cleanConnectToNumber),this._alternativeNumbers[cleanConnectToNumber]=this._alternativeNumbers[cleanConnectToNumber]||[],this._alternativeNumbers[cleanConnectToNumber].push(overrideNumberToReplace)}else numbersToReplace.push(overrideNumberToReplace);else for(key in this._numbers)if(this._numbers.hasOwnProperty(key)&&!(key.length>20))if(this._numberConfigurations[key]&&this._numberConfigurations[key].connect_to){if(-1===this._numberConfigurations[key].connect_to.indexOf(";"))var cleanConnectToNumber=this.cleanNumber(this._numberConfigurations[key].connect_to);else var cleanConnectToNumber=this.cleanNumbersSeparated(this._numberConfigurations[key].connect_to,";");numbersToReplace.push(cleanConnectToNumber),this._alternativeNumbers[cleanConnectToNumber]=this._alternativeNumbers[cleanConnectToNumber]||[],this._alternativeNumbers[cleanConnectToNumber].push(key)}else numbersToReplace.push(key);numbersToReplace=this.base64_encode(numbersToReplace.join(",")),parameters=this.base64_encode((overrideParameters||this._parameterString)+coData);var callback="__fs_dncs_instance.backendCallback";overrideCallback&&(callback=overrideCallback),overrideAdvid?(sessionId=this.getSessionId(overrideAdvid),trackingId=this.getTrackingId(overrideAdvid)):(sessionId=this.getSessionId(),trackingId=this.getTrackingId()),!0!==this._crossDomainRequest&&!0!==this._forceSameSiteForGetNumber||(sameSite=1),!0===this._dryRun&&(dryRun=1),!0===this.getParameter("cookieLessMode",!1)&&(cookieLess=1),extTrack=this.getCookie("__fs_dncs_exttrack")?this.getCookie("__fs_dncs_exttrack"):"0",eventTag=this._getNumberEventTag?this.base64_encode(this._getNumberEventTag):"";var callbackParameters="advid:"+advid+"/sessionId:"+sessionId+"/url:"+url+"/referrer:"+referrer+"/numbersToReplace:"+numbersToReplace+"/parameters:"+parameters+"/sameSite:"+(overrideSendNotSameSite?0:sameSite)+"/trackingId:"+trackingId+"/extTrack:"+extTrack+(preFlight?"/preFlight:1":"")+("number"==typeof overrideShard?"/shard:"+overrideShard:"")+(altNumData?"/altNum:"+altNumData:"")+(eventTag?"/eventTag:"+eventTag:"")+(dryRun?"/dryRun:"+dryRun:"")+(cookieLess?"/cookieLess:"+cookieLess:""),endpointUrl=this.getParameter("freespeeHost","//analytics.freespee.com")+"/index.php?url=/external/dncs";this.jsonp(endpointUrl,callback,callbackParameters)}},checkAndUpdatePendingBackendRequest:function(backendRequestId,callback){var curTimestamp=(new Date).getTime();for(var callbackInfoKey in this.numberCallbackInfo)if(this.numberCallbackInfo.hasOwnProperty(callbackInfoKey)){var callbackInfo=this.numberCallbackInfo[callbackInfoKey];if(callbackInfo&&callbackInfo.backendRequestId==backendRequestId&&curTimestamp<callbackInfo.timestamp+600)return callbackInfo.callbacks.push(callback),callbackInfo.timestamp=curTimestamp,!0}return!1},numberCallbackInfo:{},getNumber:function(callback,reference,phonenr,advid,shard,parameterString,eventTag){var curTimestamp=(new Date).getTime();this._getNumberEventTag=void 0===eventTag?"getNumber":eventTag;var temp="__fs_"+Math.floor(1e7*Math.random());window[temp]=function(temp){return function(data){__fs_dncs_instance.backendCallback(data,temp)}}(temp);var origInputNumber=phonenr,backendRequestId=(phonenr=this.cleanNumber(phonenr))+advid+parameterString+shard+this._getNumberEventTag;this.checkAndUpdatePendingBackendRequest(backendRequestId,callback)||(this.makeBackendRequest(!1,phonenr,advid,parameterString,temp,shard,0),this.numberCallbackInfo[temp]={callbacks:[callback],reference:reference,backendRequestId:backendRequestId,timestamp:curTimestamp,createdFrom:"getNumber",originalNumber:origInputNumber})},requestCallback:function(advid,answeringnr,cc,phonenr,e164callerid,customdata,time,callback,callbackref,retries){var sessionId,curTimestamp=(new Date).getTime(),temp="__fs_"+Math.floor(1e7*Math.random());if(window[temp]=function(temp){return function(data){__fs_dncs_instance.cbwFormInternalCallback(data,temp)}}(temp),advid=advid||this._stradvid,this.getCookie("__fs_dncs_sessionid_"+advid))sessionId=this.getCookie("__fs_dncs_sessionid_"+advid);else{if(!this.getCookie("__fs_dncs_sessionid"))return void callback(callbackref,{status:"fail",errors:["No session initiated."]});sessionId=this.getCookie("__fs_dncs_sessionid")}var backendRequestId=sessionId+phonenr+cc+answeringnr+(time?"&time="+time:"")+e164callerid+this.base64_encode(this.stringify(customdata))+retries;if(!this.checkAndUpdatePendingBackendRequest(backendRequestId,callback)){var requestUrl=this.getParameter("freespeeHost","https://analytics.freespee.com")+"/cbw/call?jsonp="+temp+"&session_id="+sessionId+"&phonenr="+encodeURIComponent(this.cleanNumber(phonenr))+"&cc_phonenr="+encodeURIComponent(cc)+"&answeringnr="+encodeURIComponent(answeringnr)+(time?"&time="+time:"")+"&caller_id="+encodeURIComponent(this.cleanNumber(e164callerid))+"&custom="+this.base64_encode(this.stringify(customdata))+"&retries="+encodeURIComponent(retries);this.jsonp(requestUrl,null),this.numberCallbackInfo[temp]={callbacks:[callback],reference:callbackref,backendRequestId:backendRequestId,timestamp:curTimestamp,createdFrom:"requestCallback"}}},cbwFormInternalCallback:function(data,overrideCallbackId){if(overrideCallbackId&&this.numberCallbackInfo[overrideCallbackId]){for(var callbacks=this.numberCallbackInfo[overrideCallbackId].callbacks,i=0;i<callbacks.length;i++)callbacks[i](this.numberCallbackInfo[overrideCallbackId].reference,data);this.numberCallbackInfo[overrideCallbackId]=null}},loadAdv:function(advid){this._loadEventTriggered=!1,this._advid={},this.setAdv(advid),this.loadEvent()},backendCallback:function(data,overrideCallbackId){var advidlen=0,sessionCookieSet=!1,sessionCookieLifetime=this._sessionCookieLifetime,endRequestTime=performance.now();for(var key in this.runRequestTimerFunction(this._startRequestTime,endRequestTime),this._advid)this._advid.hasOwnProperty(key)&&advidlen++;if("success"==data.status&&0==data.clear_cookie?(data.cookie_ttl!=sessionCookieLifetime&&(sessionCookieLifetime=data.cookie_ttl),advidlen<=1?this.setCookie("__fs_dncs_sessionid_"+data.advid,data.session_id,sessionCookieLifetime):this.setCookie("__fs_dncs_sessionid",data.session_id,sessionCookieLifetime),sessionCookieSet=!0):"success"==data.status&&1==data.clear_cookie&&(advidlen<=1?this.setCookie("__fs_dncs_sessionid_"+data.advid,"",-1):this.setCookie("__fs_dncs_sessionid","",-1)),overrideCallbackId||!0!==sessionCookieSet||(this._forceSameSiteForGetNumber=!0),"success"==data.status){if(advidlen<=1?this.setCookie("__fs_dncs_trackingid_"+data.advid,data.tracking_id,525600):this.setCookie("__fs_dncs_trackingid",data.tracking_id,525600),this.setCookie("__fs_dncs_exttrack",data.ext_track,525600),overrideCallbackId&&this.numberCallbackInfo[overrideCallbackId]){if("getNumber"===this.numberCallbackInfo[overrideCallbackId].createdFrom){var getNumberCallback=this.numberCallbackInfo[overrideCallbackId].callbacks[0],reference=this.numberCallbackInfo[overrideCallbackId].reference,originalNumber=this.numberCallbackInfo[overrideCallbackId].originalNumber;getNumberCallback(reference,1===data.numbers.length?data.numbers[0].replace_with:this.getParameter("returnInputNumber",!0)?{e164:originalNumber,local:originalNumber,meas_id:null}:null)}else for(var y=0,ylen=data.numbers.length;y<ylen;y++)for(var callbacks=this.numberCallbackInfo[overrideCallbackId].callbacks,i=0;i<callbacks.length;i++)callbacks[i](this.numberCallbackInfo[overrideCallbackId].reference,data.numbers[y].replace_with);return void(this.numberCallbackInfo[overrideCallbackId]=null)}if(void 0!==data.numbers_to_replace)return void this.addFsLinkToDOM(data.numbers_to_replace);"function"==typeof this._allAdvid[data.advid].formatting_function&&(this._formattingFunction=this._allAdvid[data.advid].formatting_function);for(y=0,ylen=data.numbers.length;y<ylen;y++)if(this._alternativeNumbers.hasOwnProperty(data.numbers[y].number_on_page))for(var j=0;j<this._alternativeNumbers[data.numbers[y].number_on_page].length;j++)this._numbers[this._alternativeNumbers[data.numbers[y].number_on_page][j]].replace_with=data.numbers[y].replace_with;else this._numbers[data.numbers[y].number_on_page].replace_with=data.numbers[y].replace_with;i=0;for(var ilen=this._spans.length;i<ilen;i++){var spanNumber=this.cleanNumber(this._spans[i].innerHTML);""==spanNumber&&this._spans[i].action&&(spanNumber=this.cleanNumber(this._spans[i].action)),""==spanNumber&&(spanNumber=this.cleanNumber(this._spans[i].href)),this._numbers[spanNumber]&&this._numbers[spanNumber].replace_with&&this.replaceNumber(this._spans[i],this._numbers[spanNumber].replace_with)}if("function"==typeof this.getParameter("dynamicCallback")&&this.getParameter("dynamicCallback")(data),this.getParameter("numberDetection",!1)){var that=this;setTimeout((function(){that.loopTextElementsForNumbers(document.body,!0)}),1)}for(var key in this._spans.length>0&&!this.getParameter("preventWebkitWorkaround",!1)&&(this._spans[0].style.cssText+=";-webkit-transform:rotateZ(0deg)",this._spans[0].offsetHeight,this._spans[0].style.cssText+=";-webkit-transform:none"),this._advid)this._advid[key].cbw_visible_number&&this._numbers[this._advid[key].cbw_visible_number]&&this._numbers[this._advid[key].cbw_visible_number].replace_with?this._advid[key].cbw_visible_number=this._numbers[this._advid[key].cbw_visible_number].replace_with.local:delete this._advid[key].cbw_visible_number;data.cbw_enabled&&this._allAdvid[data.advid].cbw_answering_number_id&&this.setupCbw(data.session_id,this._advid[data.advid])}else if(overrideCallbackId&&this.numberCallbackInfo[overrideCallbackId]&&"getNumber"===this.numberCallbackInfo[overrideCallbackId].createdFrom){getNumberCallback=this.numberCallbackInfo[overrideCallbackId].callbacks[0],reference=this.numberCallbackInfo[overrideCallbackId].reference,originalNumber=this.numberCallbackInfo[overrideCallbackId].originalNumber;getNumberCallback(reference,this.getParameter("returnInputNumber",!0)?{e164:originalNumber,local:originalNumber,meas_id:null}:null),this.numberCallbackInfo[overrideCallbackId]=null}},jsonp:function(url,strCallback,query){strCallback&&query&&(url+="/callback:",url+=strCallback+"/",query&&(url+=query+"/"));var script=document.createElement("script");script.setAttribute("src",url),script.setAttribute("type","text/javascript");var head=document.getElementsByTagName("head");head.length>0&&head[0].appendChild(script)},openCbw:function(){var overlay,overlaybg,top;overlay=document.getElementById("fs-callback-widget-overlay"),"desktop"===this.getParameter("cbw_style","desktop")?(overlaybg=document.getElementById("fs-callback-widget-bg"),overlay&&overlaybg&&(overlay.style.display="block",overlaybg.style.display="block")):(top=document.getElementById("fs-callback-widget-top"),overlay&&top&&(this.oldPageMargin=document.body.style.margin,this.oldPagePadding=document.body.style.padding,document.body.style.margin="0px",document.body.style.padding="0px",overlay.style.display="block",top.style.display="block",window.scrollTo(0,0)))},closeCbw:function(){var overlay,overlaybg,top;overlay=document.getElementById("fs-callback-widget-overlay"),"desktop"===this.getParameter("cbw_style","desktop")?(overlaybg=document.getElementById("fs-callback-widget-bg"),overlay&&overlaybg&&(overlay.style.display="none",overlaybg.style.display="none")):(top=document.getElementById("fs-callback-widget-top"),overlay&&top&&(document.body.style.margin=this.oldPageMargin,document.body.style.padding=this.oldPagePadding,overlay.style.display="none",top.style.display="none"))},setupCbw:function(session_id,advSettings){var iFrameSrc,iframe,open,close,overlay,overlaybg;iFrameSrc=this.getParameter("freespeeHost","https://analytics.freespee.com")+"/cbw/frame",iFrameSrc+="/sid:"+session_id,iFrameSrc+="/answeringnr:"+encodeURIComponent(encodeURIComponent(advSettings.cbw_answering_number_id)),advSettings.cbw_caller_id&&(iFrameSrc+="/caller_id:"+encodeURIComponent(encodeURIComponent(advSettings.cbw_caller_id))),advSettings.cbw_visible_number&&(iFrameSrc+="/visible_number:"+encodeURIComponent(encodeURIComponent(advSettings.cbw_visible_number))),iFrameSrc+="/tz_offset:"+(new Date).getTimezoneOffset(),iFrameSrc+="/language:"+this.getParameter("language","en_US"),"mobile"===advSettings.cbw_style&&(iFrameSrc+="/mobile:1"),"desktop"===(advSettings.cbw_style||"desktop")?((open=document.getElementById(advSettings.cbw_button_id||"fs-open-callback-widget"))||((open=document.createElement("div")).setAttribute("id","fs-open-callback-widget"),open.style.cursor="pointer",open.style.position="absolute",open.style.right="0",open.style.top="200px",open.style.width="39px",open.style.height="58px",open.style.background="url("+this.getParameter("freespeeHost","https://analytics.freespee.com")+"/images/tab-phone-green.png) no-repeat",document.body.appendChild(open)),(overlaybg=document.createElement("div")).setAttribute("id","fs-callback-widget-bg"),overlaybg.style.display="none",overlaybg.style.position="fixed",overlaybg.style.top="0",overlaybg.style.right="0",overlaybg.style.bottom="0",overlaybg.style.left="0",overlaybg.style.background="#000",overlaybg.style.opacity=".5",overlaybg.style.filter="alpha(opacity = 50)",(overlay=document.createElement("div")).setAttribute("id","fs-callback-widget-overlay"),overlay.style.display="none",overlay.style.position="fixed",overlay.style.top="50%",overlay.style.left="50%",overlay.style.margin="-137px 0 0 -195px",overlay.style.backgroundColor="#fff",overlay.style.padding="2px",overlay.style.borderRadius="4px",overlay.style.boxShadow="rgb(0, 0, 0) 0px 3px 6px",overlay.style.zIndex=9999,(iframe=document.createElement("iframe")).setAttribute("src",iFrameSrc),iframe.setAttribute("width","415"),iframe.setAttribute("height","270"),iframe.setAttribute("frameborder","0"),iframe.setAttribute("scrolling","no"),(close=document.createElement("div")).setAttribute("id","fs-close-callback-widget"),close.style.cursor="pointer",close.style.position="absolute",close.style.top="-16px",close.style.right="-16px",close.style.width="32px",close.style.height="31px",close.style.background="url("+this.getParameter("freespeeHost","https://analytics.freespee.com")+"/images/close_cbw.png) no-repeat",overlay.appendChild(close),document.body.appendChild(overlaybg),document.body.appendChild(overlay),open.onclick=function(evt){overlay.appendChild(iframe),overlay.style.display="block",overlaybg.style.display="block"},overlaybg.onclick=close.onclick=function(evt){overlay.style.display="none",overlaybg.style.display="none",overlay.removeChild(iframe)}):((overlay=document.createElement("div")).setAttribute("id","fs-callback-widget-overlay"),overlay.setAttribute("style","line-height: 0; display: none; position: absolute; top: 0px; right: 0; left: 0; background: #fff; overflow: auto;"),(iframe=document.createElement("iframe")).setAttribute("src",iFrameSrc),iframe.setAttribute("width","100%"),iframe.setAttribute("height","100%"),iframe.setAttribute("frameborder","0"),iframe.setAttribute("scrolling","auto"),window.innerHeight?iframe.setAttribute("style","min-height: "+window.innerHeight+"px;"):iframe.setAttribute("style","min-height: 360px;"),document.body.appendChild(overlay),(open=document.getElementById(advSettings.cbw_button_id||"fs-open-callback-widget")).onclick=function(evt){overlay.appendChild(iframe),this.oldPageMargin=document.body.style.margin,this.oldPagePadding=document.body.style.padding,document.body.style.margin="0px",document.body.style.padding="0px",overlay.style.display="block",window.scrollTo(0,0)},eventListener=function(event){"cbw_back_pressed"===event.data&&(document.body.style.margin=this.oldPageMargin,document.body.style.padding=this.oldPagePadding,overlay.style.display="none",overlay.removeChild(iframe))},window.addEventListener?addEventListener("message",eventListener,!1):attachEvent("onmessage",eventListener),resizeEventListener=function(){window.innerHeight?iframe.setAttribute("style","min-height: "+window.innerHeight+"px;"):iframe.setAttribute("style","min-height: 360px;")},window.addEventListener?addEventListener("resize",resizeEventListener,!1):attachEvent("onresize",resizeEventListener))},httpGet:function(url){if(window.XMLHttpRequest){var xmlHttp=new XMLHttpRequest;xmlHttp.open("GET",url,!0),xmlHttp.send(null)}},httpPost:function(url,parameters){var json=this.stringify(parameters);if(window.XMLHttpRequest)try{var xmlHttp=new XMLHttpRequest;xmlHttp.open("POST",url,!0),xmlHttp.setRequestHeader("Content-type","application/json; charset=utf-8"),xmlHttp.onloadend=function(){if(xmlHttp.status>=200&&xmlHttp.status<300){var response=JSON.parse(xmlHttp.responseText);response.success||console.error("The API call failed with message: ",response.error)}else console.error("Connection to the API failed with http status code: ",xmlHttp.status)},xmlHttp.send(json)}catch(e){console.error("Setup of POST XHR failed with exeception: ",e)}},setupSnapengage:function(){if("undefined"!=typeof SnapEngage){var _fs_i=__fs_dncs_instance,baseUrl=_fs_i.getParameter("freespeeHost","https://analytics.freespee.com")+"/collect/chat?cp=se&sId="+_fs_i.getSessionId();SnapEngage.setCallback("Open",(function(s){_fs_i.httpGet(baseUrl+"&e=1&a="+_fs_i.base64_encode(s))})),SnapEngage.setCallback("Close",(function(t,s){_fs_i.httpGet(baseUrl+"&e=2&a="+_fs_i.base64_encode(t)+"&b="+_fs_i.base64_encode(s))})),SnapEngage.setCallback("StartChat",(function(e,m,t){_fs_i.httpGet(baseUrl+"&e=3&a="+_fs_i.base64_encode(e)+"&b="+_fs_i.base64_encode(m)+"&c="+_fs_i.base64_encode(t))})),SnapEngage.setCallback("ChatMessageSent",(function(m){_fs_i.httpGet(baseUrl+"&e=4&a="+_fs_i.base64_encode(m))})),SnapEngage.setCallback("ChatMessageReceived",(function(a,m){_fs_i.httpGet(baseUrl+"&e=5&a="+_fs_i.base64_encode(a)+"&b="+_fs_i.base64_encode(m))})),SnapEngage.setCallback("OpenProactive",(function(a,m){_fs_i.httpGet(baseUrl+"&e=6&a="+_fs_i.base64_encode(a)+"&b="+_fs_i.base64_encode(m))}))}},loadSyncUrl:function(url){if(url){var img=document.createElement("img");img.setAttribute("src",url),img.setAttribute("style","position: absolute; height: 0px; width: 0px;"),document.head.appendChild(img)}},sendEvent:function(eventType,eventId,eventData,advId){var baseUrl=this.getParameter("freespeeHost","https://analytics.freespee.com")+"/collect/fs-event";null===advId&&(advId=this._stradvid);var sessionIds=[];for(var key in this._allAdvid)sessionIds.push(this.getSessionId(key));this.httpPost(baseUrl,{event_type:eventType,event_identifier:eventId,event_data:eventData,sessionIds:sessionIds,advId:advId})}},null==__fs_dncs_instance){var enableSeForCustomer="5a6af1f3-341b-46ae-a097-0e317cdbccd6";(__fs_dncs_instance=new __fs_dncs)._stradvid==enableSeForCustomer&&(window.addEventListener?window.addEventListener("load",__fs_dncs_instance.setupSnapengage,!1):window.attachEvent&&window.attachEvent("onload",__fs_dncs_instance.setupSnapengage))}